(()=>{"use strict";var e,t,r,n,o,l,i,a,g={861:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.displayToChat=void 0,t.displayToChat=function(e){PluginAPI.displayToChat({msg:e})}},447:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MeteorXfailure=t.MeteorXsuccess=t.MeteorXerror=t.MeteorXwarning=t.MeteorXlog=void 0;var n=r(861);t.MeteorXlog=function(e){(0,n.displayToChat)("Â§c[Â§6MeteorXÂ§c]Â§f "+e)},t.MeteorXwarning=function(e){(0,n.displayToChat)("Â§c[Â§6Â§lWARNINGÂ§c]Â§f "+e)},t.MeteorXerror=function(e){(0,n.displayToChat)("Â§c[Â§4Â§lERRORÂ§c]Â§f "+e)},t.MeteorXsuccess=function(e){(0,n.displayToChat)("Â§a[Â§2Â§lSUCCESSÂ§a]Â§f "+e)},t.MeteorXfailure=function(e){(0,n.displayToChat)("Â§c[Â§4Â§lFAILUREÂ§c]Â§f "+e)}},39:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.registercmds=void 0;var n=r(194),o=r(447),l=null;t.registercmds=function(){PluginAPI.addEventListener("packetjoingame",(function(e){l=e.ip})),PluginAPI.addEventListener("sendchatmessage",(function(e){if(".version"===e.message&&((0,o.MeteorXlog)("you are currently using the v1.0 version of MeteorX."),e.preventDefault=!0),".help"===e.message&&((0,o.MeteorXlog)("MeteorX commands : .version , .help , .ip , .uwuify "),e.preventDefault=!0),".ip"===e.message&&((0,o.MeteorXlog)("the ip of the current server you are playing: "+l+" "),e.preventDefault=!0),".uwuify"===e.message&&((0,o.MeteorXlog)("usage: .uwuify [message]"),e.preventDefault=!0),e.message.startsWith(".uwuify ")){e.message.substring(8);var t=(0,n.uwuify)("messageAfter");PluginAPI.network.sendPacketChatMessage({messageIn:t})}}))}},481:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.returnFullbrightToggle=t.setFullbrightToggle=t.registerFullbright=void 0;var r=!1;t.registerFullbright=function(){PluginAPI.addEventListener("update",(function(){0==r?(PluginAPI.blocks.air.lightValue=0,PluginAPI.blocks.air.reload()):(PluginAPI.blocks.air.lightValue=10,PluginAPI.blocks.air.reload())}))},t.setFullbrightToggle=function(e){r=e},t.returnFullbrightToggle=function(){return r}},906:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.registergui=void 0;var n=r(771),o=r(74),l=r(419),i=r(481),a=r(3),g=r(152);t.registergui=function(){var e=!1;function t(){document.getElementById("myGui")&&document.getElementById("myGui").remove(),e=!1}window.addEventListener("keydown",(function(r){"Shift"===r.key&&r.location===KeyboardEvent.DOM_KEY_LOCATION_RIGHT&&(e?t():function(){t();var r=document.createElement("gui");null!=document.pointerLockElement&&document.exitPointerLock(),r.innerHTML='\n      <gui id="myGui" style="width: 100%;height: 100%;position: fixed;top: 0px;left: 0px;z-index: 10;color: white;font-family: Minecraftia, sans-serif;overflow: hidden scroll;background-color: rgba(80, 80, 80, 0.42);background-blend-mode: multiply;background-size: 64px;">\n      <h1 style="text-shadow: 0px 0px 4px;">MeteorX GUI</h1>\n      <p style="font-size: 0.8rem; color: yellow;">(totally not stolen from plugin manager\'s gui)</p><p style="font-size: 0.8rem; color: yellow;">ik the gui looks kinda bad for a hacked client but its meteorX alpha ig. i WILL update this gui in the future</p><p style="font-size: 0.8rem; color: orangered;">click on "Activate" to activate a hack and click on "Deactivate" to deactivate a hack</p>\n      <table style="table-layout: fixed; width: 100%;">\n          <tbody><tr style="background: rgb(80, 80, 80);">\n              <th style="text-align: center;">Hacks</th>\n              <th style="text-align: center; width: 15%;">Activate/Deactivate</th>\n          </tr>\n          <tr style="box-shadow: grey 0px 2px 0px;">\n              <td style="user-select: text;background-color: #9d00ff30;">Jetpack (hold space to fly) ðŸŽ’ðŸ’¨</td>\n              <td style="background-color: gray; text-align: center;" id="jetpack">Activate</td>\n          </tr>\n          <tr style="box-shadow: grey 0px 2px 0px;">\n              <td style="user-select: text;background-color: #9d00ff30;">Step</td>\n              <td style="background-color: gray; text-align: center;" id="step">Activate</td>\n          </tr>\n          <tr style="box-shadow: grey 0px 2px 0px;">\n              <td style="user-select: text;background-color: #9d00ff30;">Spider</td>\n              <td style="background-color: gray; text-align: center;" id="spider">Activate</td>\n          </tr>\n          <tr style="box-shadow: grey 0px 2px 0px;">\n              <td style="user-select: text;background-color: #9d00ff30;">Nofall</td>\n              <td style="background-color: gray; text-align: center;" id="nofall">Activate</td>\n          </tr>\n          <tr style="box-shadow: grey 0px 2px 0px;">\n              <td style="user-select: text;background-color: #9d00ff30;">Fullbright</td>\n              <td style="background-color: gray; text-align: center;" id="fullbright">Activate</td>\n          </tr>\n          <tr style="box-shadow: grey 0px 2px 0px;">\n          <td style="user-select: text;background-color: #9d00ff30;">NoWeb</td>\n          <td style="background-color: gray; text-align: center;" id="noweb">Activate</td>\n          </tr>\n      </tbody></table>\n      <a style="background: transparent; text-align: center; color: yellow; cursor: pointer; font-family: Minecraftia, sans-serif; text-decoration: underline; border: 0px; margin-right: 1rem; font-size: 1rem;" href="https://github.com/radmanplays/MeteorX/issues/new" target="_blank">suggest a new feature/hack</a>\n      <a style="background: transparent;text-align: center;color: orange;cursor: pointer;font-family: Minecraftia, sans-serif;text-decoration: underline;border: 0px;font-size: 1rem;" href="https://github.com/orgs/EaglerReborn/discussions/9" target="_blank">version Roadmap</a>\n      \n        </gui>\n      ',r.id="myGui",r.style.width="100%",r.style.height="100%",r.style.position="fixed",r.style.top="0px",r.style.left="0px",r.style.zIndex="10",r.style.color="white",r.style.fontFamily="Minecraftia, sans-serif",r.style.overflow="hidden scroll",r.style.backgroundColor="rgba(80, 80, 80, 0.42)",r.style.backgroundBlendMode="multiply",r.style.backgroundSize="64px",document.body.appendChild(r),e=!0;var u=document.getElementById("jetpack"),s=document.getElementById("step"),c=document.getElementById("spider"),d=document.getElementById("nofall"),p=document.getElementById("fullbright"),y=document.getElementById("noweb");u.addEventListener("mouseover",(function(){u.style.cursor="pointer"})),s.addEventListener("mouseover",(function(){s.style.cursor="pointer"})),c.addEventListener("mouseover",(function(){c.style.cursor="pointer"})),d.addEventListener("mouseover",(function(){d.style.cursor="pointer"})),p.addEventListener("mouseover",(function(){p.style.cursor="pointer"})),y.addEventListener("mouseover",(function(){y.style.cursor="pointer"})),!1===(0,a.returnjetpacktoggle)()&&(u.innerText="Activate",u.style.backgroundColor="green"),!1===(0,n.returnStepToggle)()&&(s.innerText="Activate",s.style.backgroundColor="green"),!1===(0,o.returnSpiderToggle)()&&(c.innerText="Activate",c.style.backgroundColor="green"),!1===(0,l.returnNofallToggle)()&&(d.innerText="Activate",d.style.backgroundColor="green"),!1===(0,i.returnFullbrightToggle)()&&(p.innerText="Activate",p.style.backgroundColor="green"),!1===(0,g.returnnowebToggle)()&&(y.innerText="Activate",y.style.backgroundColor="green"),!0===(0,a.returnjetpacktoggle)()&&(u.innerText="Deactivate",u.style.backgroundColor="red"),!0===(0,n.returnStepToggle)()&&(s.innerText="Deactivate",s.style.backgroundColor="red"),!0===(0,o.returnSpiderToggle)()&&(c.innerText="Deactivate",c.style.backgroundColor="red"),!0===(0,l.returnNofallToggle)()&&(d.innerText="Deactivate",d.style.backgroundColor="red"),!0===(0,i.returnFullbrightToggle)()&&(p.innerText="Deactivate",p.style.backgroundColor="red"),!0===(0,g.returnnowebToggle)()&&(y.innerText="Deactivate",y.style.backgroundColor="red"),s.addEventListener("click",(function(){!0!==(0,n.returnStepToggle)()?(s.innerText="Deactivate",s.style.backgroundColor="red",(0,n.setStepToggle)(!0)):(s.innerText="Activate",s.style.backgroundColor="green",(0,n.setStepToggle)(!1))})),c.addEventListener("click",(function(){!0!==(0,o.returnSpiderToggle)()?(c.innerText="Deactivate",c.style.backgroundColor="red",(0,o.setSpiderToggle)(!0)):(c.innerText="Activate",c.style.backgroundColor="green",(0,o.setSpiderToggle)(!1))})),d.addEventListener("click",(function(){!0!==(0,l.returnNofallToggle)()?(d.innerText="Deactivate",d.style.backgroundColor="red",(0,l.setNofallToggle)(!0)):(d.innerText="Activate",d.style.backgroundColor="green",(0,l.setNofallToggle)(!1))})),p.addEventListener("click",(function(){!0!==(0,i.returnFullbrightToggle)()?(p.innerText="Deactivate",p.style.backgroundColor="red",(0,i.setFullbrightToggle)(!0)):(p.innerText="Activate",p.style.backgroundColor="green",(0,i.setFullbrightToggle)(!1))})),u.addEventListener("click",(function(){!0!==(0,a.returnjetpacktoggle)()?(u.innerText="Deactivate",u.style.backgroundColor="red",(0,a.setjetpacktoggle)(!0)):(u.innerText="Activate",u.style.backgroundColor="green",(0,a.setjetpacktoggle)(!1))})),y.addEventListener("click",(function(){!0!==(0,g.returnnowebToggle)()?(y.innerText="Deactivate",y.style.backgroundColor="red",(0,g.setnowebToggle)(!0)):(y.innerText="Activate",y.style.backgroundColor="green",(0,g.setnowebToggle)(!1))}))}()),"Escape"!==r.key&&"`"!==r.key||t()}))}},3:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.returnjetpacktoggle=t.setjetpacktoggle=t.registerjetpack=void 0;var r=!1;t.registerjetpack=function(){PluginAPI.require("player"),PluginAPI.addEventListener("update",(function(){}))},t.setjetpacktoggle=function(e){r=e},t.returnjetpacktoggle=function(){return r}},419:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.returnNofallToggle=t.setNofallToggle=t.registerNofall=void 0;var r=!1;t.registerNofall=function(){PluginAPI.require("network"),PluginAPI.addEventListener("update",(function(){PluginAPI.player.fallDistance>2&&r&&PluginAPI.network.sendPacketPlayer({isOnGround:!0})}))},t.setNofallToggle=function(e){r=e},t.returnNofallToggle=function(){return r}},152:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.returnnowebToggle=t.setnowebToggle=t.registernoweb=void 0;var r=!1;t.registernoweb=function(){PluginAPI.require("player"),PluginAPI.addEventListener("update",(function(){1==r&&(PluginAPI.player.isInWeb=!1)}))},t.setnowebToggle=function(e){r=e},t.returnnowebToggle=function(){return r}},74:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.returnSpiderToggle=t.setSpiderToggle=t.registerSpider=void 0;var r=!1;t.registerSpider=function(){PluginAPI.require("player"),PluginAPI.addEventListener("update",(function(){PluginAPI.player.isCollidedHorizontally&&1==r&&(PluginAPI.player.motionY=.2,PluginAPI.player.reload())}))},t.setSpiderToggle=function(e){r=e},t.returnSpiderToggle=function(){return r}},771:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.returnStepToggle=t.setStepToggle=t.registerStep=void 0;var r=!1;t.registerStep=function(){PluginAPI.addEventListener("update",(function(){1==r?(PluginAPI.player.stepHeight=1,PluginAPI.player.reload()):(PluginAPI.player.stepHeight=.5,PluginAPI.player.reload())}))},t.setStepToggle=function(e){r=e},t.returnStepToggle=function(){return r}},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.uwuify=void 0,t.uwuify=function(e){e.toLowerCase().replace(/r|l/g,"w").replace(/n([aeiou])/g,"ny$1").replace(/ove/g,"uve").replace(/uck/g,"uwq").replace(/^i/,"i-i").replace(/(.*)i-i-i/,"$1i-i"),Math.random()}}},u={};function s(e){var t=u[e];if(void 0!==t)return t.exports;var r=u[e]={exports:{}};return g[e](r,r.exports,s),r.exports}e=s(906),t=s(74),r=s(771),n=s(419),o=s(3),l=s(481),i=s(39),a=s(152),console.log("[MeteorX] Loading client..."),(0,i.registercmds)(),(0,a.registernoweb)(),(0,e.registergui)(),(0,o.registerjetpack)(),(0,t.registerSpider)(),(0,r.registerStep)(),(0,n.registerNofall)(),(0,l.registerFullbright)(),console.log("[MeteorX] Finished loading client!")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FHL0NJLEVBQU9ySCxPQUNmLENacEJJVixFQUFRLEVBQVEsS0FDaEJDLEVBQVcsRUFBUSxJQUNuQkMsRUFBUyxFQUFRLEtBQ2pCQyxFQUFXLEVBQVEsS0FDbkJDLEVBQVksRUFBUSxHQUNwQkMsRUFBZSxFQUFRLEtBQ3ZCQyxFQUFTLEVBQVEsSUFDakJDLEVBQVUsRUFBUSxLQUV0QjBILFFBQVFDLElBQUksZ0NBQ1osRUFBSTVILEVBQU9nQixpQkFDWCxFQUFJZixFQUFRb0csa0JBQ1osRUFBSTNHLEVBQU0rQyxnQkFDVixFQUFJM0MsRUFBVThGLG9CQUNkLEVBQUlqRyxFQUFTNkcsbUJBQ2IsRUFBSTVHLEVBQU9nSCxpQkFDWCxFQUFJL0csRUFBU2tHLG1CQUNiLEVBQUloRyxFQUFhbUMsc0JBQ2pCeUYsUUFBUUMsSUFBSSxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL21ldGVvcngvLi9zcmMvbWFpbi50cyIsIndlYnBhY2s6Ly9tZXRlb3J4Ly4vc3JjL2NoYXQudHMiLCJ3ZWJwYWNrOi8vbWV0ZW9yeC8uL3NyYy9jaGF0dXRpbHRzLnRzIiwid2VicGFjazovL21ldGVvcngvLi9zcmMvY21kcy50cyIsIndlYnBhY2s6Ly9tZXRlb3J4Ly4vc3JjL2Z1bGxicmlnaHQudHMiLCJ3ZWJwYWNrOi8vbWV0ZW9yeC8uL3NyYy9ndWkudHMiLCJ3ZWJwYWNrOi8vbWV0ZW9yeC8uL3NyYy9qZXRwYWNrLnRzIiwid2VicGFjazovL21ldGVvcngvLi9zcmMvbm9mYWxsLnRzIiwid2VicGFjazovL21ldGVvcngvLi9zcmMvbm93ZWIudHMiLCJ3ZWJwYWNrOi8vbWV0ZW9yeC8uL3NyYy9zcGlkZXIudHMiLCJ3ZWJwYWNrOi8vbWV0ZW9yeC8uL3NyYy9zdGVwLnRzIiwid2VicGFjazovL21ldGVvcngvLi9zcmMvdXd1YXBpLnRzIiwid2VicGFjazovL21ldGVvcngvd2VicGFjay9ib290c3RyYXAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZ3VpXzEgPSByZXF1aXJlKFwiLi9ndWlcIik7XG52YXIgc3BpZGVyXzEgPSByZXF1aXJlKFwiLi9zcGlkZXJcIik7XG52YXIgc3RlcF8xID0gcmVxdWlyZShcIi4vc3RlcFwiKTtcbnZhciBub2ZhbGxfMSA9IHJlcXVpcmUoXCIuL25vZmFsbFwiKTtcbnZhciBqZXRwYWNrXzEgPSByZXF1aXJlKFwiLi9qZXRwYWNrXCIpO1xudmFyIGZ1bGxicmlnaHRfMSA9IHJlcXVpcmUoXCIuL2Z1bGxicmlnaHRcIik7XG52YXIgY21kc18xID0gcmVxdWlyZShcIi4vY21kc1wiKTtcbnZhciBub3dlYl8xID0gcmVxdWlyZShcIi4vbm93ZWJcIik7XG52YXIgamV0cGFja2d1aWFjdGl2ZSA9IGZhbHNlO1xuY29uc29sZS5sb2coXCJbTWV0ZW9yWF0gTG9hZGluZyBjbGllbnQuLi5cIik7XG4oMCwgY21kc18xLnJlZ2lzdGVyY21kcykoKTtcbigwLCBub3dlYl8xLnJlZ2lzdGVybm93ZWIpKCk7XG4oMCwgZ3VpXzEucmVnaXN0ZXJndWkpKCk7XG4oMCwgamV0cGFja18xLnJlZ2lzdGVyamV0cGFjaykoKTtcbigwLCBzcGlkZXJfMS5yZWdpc3RlclNwaWRlcikoKTtcbigwLCBzdGVwXzEucmVnaXN0ZXJTdGVwKSgpO1xuKDAsIG5vZmFsbF8xLnJlZ2lzdGVyTm9mYWxsKSgpO1xuKDAsIGZ1bGxicmlnaHRfMS5yZWdpc3RlckZ1bGxicmlnaHQpKCk7XG5jb25zb2xlLmxvZyhcIltNZXRlb3JYXSBGaW5pc2hlZCBsb2FkaW5nIGNsaWVudCFcIik7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGlzcGxheVRvQ2hhdCA9IHZvaWQgMDtcbmZ1bmN0aW9uIGRpc3BsYXlUb0NoYXQobWVzc2FnZSkge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBQbHVnaW5BUEkuZGlzcGxheVRvQ2hhdCh7IG1zZzogbWVzc2FnZSB9KTtcbn1cbmV4cG9ydHMuZGlzcGxheVRvQ2hhdCA9IGRpc3BsYXlUb0NoYXQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTWV0ZW9yWGZhaWx1cmUgPSBleHBvcnRzLk1ldGVvclhzdWNjZXNzID0gZXhwb3J0cy5NZXRlb3JYZXJyb3IgPSBleHBvcnRzLk1ldGVvclh3YXJuaW5nID0gZXhwb3J0cy5NZXRlb3JYbG9nID0gdm9pZCAwO1xudmFyIGNoYXRfMSA9IHJlcXVpcmUoXCIuL2NoYXRcIik7XG5mdW5jdGlvbiBNZXRlb3JYbG9nKG1lc3NhZ2UpIHtcbiAgICAoMCwgY2hhdF8xLmRpc3BsYXlUb0NoYXQpKFwiwqdjW8KnNk1ldGVvcljCp2NdwqdmIFwiICsgbWVzc2FnZSk7XG59XG5leHBvcnRzLk1ldGVvclhsb2cgPSBNZXRlb3JYbG9nO1xuZnVuY3Rpb24gTWV0ZW9yWHdhcm5pbmcobWVzc2FnZSkge1xuICAgICgwLCBjaGF0XzEuZGlzcGxheVRvQ2hhdCkoXCLCp2Nbwqc2wqdsV0FSTklOR8KnY13Cp2YgXCIgKyBtZXNzYWdlKTtcbn1cbmV4cG9ydHMuTWV0ZW9yWHdhcm5pbmcgPSBNZXRlb3JYd2FybmluZztcbmZ1bmN0aW9uIE1ldGVvclhlcnJvcihtZXNzYWdlKSB7XG4gICAgKDAsIGNoYXRfMS5kaXNwbGF5VG9DaGF0KShcIsKnY1vCpzTCp2xFUlJPUsKnY13Cp2YgXCIgKyBtZXNzYWdlKTtcbn1cbmV4cG9ydHMuTWV0ZW9yWGVycm9yID0gTWV0ZW9yWGVycm9yO1xuZnVuY3Rpb24gTWV0ZW9yWHN1Y2Nlc3MobWVzc2FnZSkge1xuICAgICgwLCBjaGF0XzEuZGlzcGxheVRvQ2hhdCkoXCLCp2FbwqcywqdsU1VDQ0VTU8KnYV3Cp2YgXCIgKyBtZXNzYWdlKTtcbn1cbmV4cG9ydHMuTWV0ZW9yWHN1Y2Nlc3MgPSBNZXRlb3JYc3VjY2VzcztcbmZ1bmN0aW9uIE1ldGVvclhmYWlsdXJlKG1lc3NhZ2UpIHtcbiAgICAoMCwgY2hhdF8xLmRpc3BsYXlUb0NoYXQpKFwiwqdjW8KnNMKnbEZBSUxVUkXCp2NdwqdmIFwiICsgbWVzc2FnZSk7XG59XG5leHBvcnRzLk1ldGVvclhmYWlsdXJlID0gTWV0ZW9yWGZhaWx1cmU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVnaXN0ZXJjbWRzID0gdm9pZCAwO1xudmFyIHV3dWFwaV8xID0gcmVxdWlyZShcIi4vdXd1YXBpXCIpO1xudmFyIGNoYXR1dGlsdHNfMSA9IHJlcXVpcmUoXCIuL2NoYXR1dGlsdHNcIik7XG52YXIgdmVyc2lvbiA9IFwidjEuMFwiO1xudmFyIGNtZHMgPSBcIi52ZXJzaW9uICwgLmhlbHAgLCAuaXAgLCAudXd1aWZ5XCI7XG52YXIgc2VydmVyaXAgPSBudWxsO1xuZnVuY3Rpb24gcmVnaXN0ZXJjbWRzKCkge1xuICAgIC8vQHRzLWlnbm9yZVxuICAgIFBsdWdpbkFQSS5hZGRFdmVudExpc3RlbmVyKFwicGFja2V0am9pbmdhbWVcIiwgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgIHNlcnZlcmlwID0gZXYuaXA7XG4gICAgfSk7XG4gICAgLy9AdHMtaWdub3JlXG4gICAgUGx1Z2luQVBJLmFkZEV2ZW50TGlzdGVuZXIoXCJzZW5kY2hhdG1lc3NhZ2VcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5tZXNzYWdlID09PSBcIi52ZXJzaW9uXCIpIHtcbiAgICAgICAgICAgICgwLCBjaGF0dXRpbHRzXzEuTWV0ZW9yWGxvZykoXCJ5b3UgYXJlIGN1cnJlbnRseSB1c2luZyB0aGUgXCIgKyB2ZXJzaW9uICsgXCIgdmVyc2lvbiBvZiBNZXRlb3JYLlwiKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQubWVzc2FnZSA9PT0gXCIuaGVscFwiKSB7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgICgwLCBjaGF0dXRpbHRzXzEuTWV0ZW9yWGxvZykoXCJNZXRlb3JYIGNvbW1hbmRzIDogXCIgKyBjbWRzICsgXCIgXCIpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudC5tZXNzYWdlID09PSBcIi5pcFwiKSB7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgICgwLCBjaGF0dXRpbHRzXzEuTWV0ZW9yWGxvZykoXCJ0aGUgaXAgb2YgdGhlIGN1cnJlbnQgc2VydmVyIHlvdSBhcmUgcGxheWluZzogXCIgKyBzZXJ2ZXJpcCArIFwiIFwiKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQubWVzc2FnZSA9PT0gXCIudXd1aWZ5XCIpIHtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgKDAsIGNoYXR1dGlsdHNfMS5NZXRlb3JYbG9nKShcInVzYWdlOiAudXd1aWZ5IFttZXNzYWdlXVwiKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQubWVzc2FnZS5zdGFydHNXaXRoKFwiLnV3dWlmeSBcIikpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlQWZ0ZXIgPSBldmVudC5tZXNzYWdlLnN1YnN0cmluZyhcIi51d3VpZnkgXCIubGVuZ3RoKTtcbiAgICAgICAgICAgIHZhciB1d3VtZXNzYWdlID0gKDAsIHV3dWFwaV8xLnV3dWlmeSkoXCJtZXNzYWdlQWZ0ZXJcIik7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIFBsdWdpbkFQSS5uZXR3b3JrLnNlbmRQYWNrZXRDaGF0TWVzc2FnZSh7IG1lc3NhZ2VJbjogdXd1bWVzc2FnZSB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0cy5yZWdpc3RlcmNtZHMgPSByZWdpc3RlcmNtZHM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmV0dXJuRnVsbGJyaWdodFRvZ2dsZSA9IGV4cG9ydHMuc2V0RnVsbGJyaWdodFRvZ2dsZSA9IGV4cG9ydHMucmVnaXN0ZXJGdWxsYnJpZ2h0ID0gdm9pZCAwO1xuLy9hZGRlZCBieSBAT3R0ZXJDb2RlczEwMlxudmFyIGZ1bGxicmlnaHRUb2dnbGUgPSBmYWxzZTtcbmZ1bmN0aW9uIHJlZ2lzdGVyRnVsbGJyaWdodCgpIHtcbiAgICAvL0B0cy1pZ25vcmVcbiAgICBQbHVnaW5BUEkuYWRkRXZlbnRMaXN0ZW5lcihcInVwZGF0ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChmdWxsYnJpZ2h0VG9nZ2xlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIFBsdWdpbkFQSS5ibG9ja3MuYWlyLmxpZ2h0VmFsdWUgPSAwOyAvL1NldCB0aGUgYWlyJ3MgbGlnaHQgbGV2ZWwgdG8gMC5cbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgUGx1Z2luQVBJLmJsb2Nrcy5haXIucmVsb2FkKCk7IC8vU2F2ZSBjaGFuZ2VzICAgXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIFBsdWdpbkFQSS5ibG9ja3MuYWlyLmxpZ2h0VmFsdWUgPSAxMDsgLy9TZXQgdGhlIGFpcidzIGxpZ2h0IGxldmVsIHRvIDEwLlxuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBQbHVnaW5BUEkuYmxvY2tzLmFpci5yZWxvYWQoKTsgLy9TYXZlIGNoYW5nZXNcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0cy5yZWdpc3RlckZ1bGxicmlnaHQgPSByZWdpc3RlckZ1bGxicmlnaHQ7XG5mdW5jdGlvbiBzZXRGdWxsYnJpZ2h0VG9nZ2xlKHRoZUJvb2xlYW4pIHtcbiAgICBmdWxsYnJpZ2h0VG9nZ2xlID0gdGhlQm9vbGVhbjtcbn1cbmV4cG9ydHMuc2V0RnVsbGJyaWdodFRvZ2dsZSA9IHNldEZ1bGxicmlnaHRUb2dnbGU7XG5mdW5jdGlvbiByZXR1cm5GdWxsYnJpZ2h0VG9nZ2xlKCkge1xuICAgIHJldHVybiBmdWxsYnJpZ2h0VG9nZ2xlO1xufVxuZXhwb3J0cy5yZXR1cm5GdWxsYnJpZ2h0VG9nZ2xlID0gcmV0dXJuRnVsbGJyaWdodFRvZ2dsZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZWdpc3Rlcmd1aSA9IHZvaWQgMDtcbnZhciBzdGVwXzEgPSByZXF1aXJlKFwiLi9zdGVwXCIpO1xudmFyIHNwaWRlcl8xID0gcmVxdWlyZShcIi4vc3BpZGVyXCIpO1xudmFyIG5vZmFsbF8xID0gcmVxdWlyZShcIi4vbm9mYWxsXCIpO1xudmFyIGZ1bGxicmlnaHRfMSA9IHJlcXVpcmUoXCIuL2Z1bGxicmlnaHRcIik7XG52YXIgamV0cGFja18xID0gcmVxdWlyZShcIi4vamV0cGFja1wiKTtcbnZhciBub3dlYl8xID0gcmVxdWlyZShcIi4vbm93ZWJcIik7XG5mdW5jdGlvbiByZWdpc3Rlcmd1aSgpIHtcbiAgICB2YXIgZ3VpVmlzaWJsZSA9IGZhbHNlOyAvLyBWYXJpYWJsZSB0byBrZWVwIHRyYWNrIG9mIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBHVUlcbiAgICBmdW5jdGlvbiB0b2dnbGVHdWkoKSB7XG4gICAgICAgIGlmIChndWlWaXNpYmxlKSB7IC8vIElmIHRoZSBHVUkgaXMgdmlzaWJsZVxuICAgICAgICAgICAgaGlkZUd1aSgpOyAvLyBIaWRlIHRoZSBHVUlcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNob3dHdWkoKTsgLy8gT3RoZXJ3aXNlLCBzaG93IHRoZSBHVUlcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzaG93R3VpKCkge1xuICAgICAgICBoaWRlR3VpKCk7IC8vIElmIHRoZSBHVUkgaXMgYWxyZWFkeSBvcGVuLCB0aGlzIHdpbGwgaGlkZSBpdC5cbiAgICAgICAgdmFyIGd1aSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJndWlcIik7IC8vIENyZWF0ZSBhIG5ldyBcImd1aVwiIGVsZW1lbnRcbiAgICAgICAgaWYgKGRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5leGl0UG9pbnRlckxvY2soKTtcbiAgICAgICAgfVxuICAgICAgICBndWkuaW5uZXJIVE1MID0gXCJcXG4gICAgICA8Z3VpIGlkPVxcXCJteUd1aVxcXCIgc3R5bGU9XFxcIndpZHRoOiAxMDAlO2hlaWdodDogMTAwJTtwb3NpdGlvbjogZml4ZWQ7dG9wOiAwcHg7bGVmdDogMHB4O3otaW5kZXg6IDEwO2NvbG9yOiB3aGl0ZTtmb250LWZhbWlseTogTWluZWNyYWZ0aWEsIHNhbnMtc2VyaWY7b3ZlcmZsb3c6IGhpZGRlbiBzY3JvbGw7YmFja2dyb3VuZC1jb2xvcjogcmdiYSg4MCwgODAsIDgwLCAwLjQyKTtiYWNrZ3JvdW5kLWJsZW5kLW1vZGU6IG11bHRpcGx5O2JhY2tncm91bmQtc2l6ZTogNjRweDtcXFwiPlxcbiAgICAgIDxoMSBzdHlsZT1cXFwidGV4dC1zaGFkb3c6IDBweCAwcHggNHB4O1xcXCI+TWV0ZW9yWCBHVUk8L2gxPlxcbiAgICAgIDxwIHN0eWxlPVxcXCJmb250LXNpemU6IDAuOHJlbTsgY29sb3I6IHllbGxvdztcXFwiPih0b3RhbGx5IG5vdCBzdG9sZW4gZnJvbSBwbHVnaW4gbWFuYWdlcidzIGd1aSk8L3A+PHAgc3R5bGU9XFxcImZvbnQtc2l6ZTogMC44cmVtOyBjb2xvcjogeWVsbG93O1xcXCI+aWsgdGhlIGd1aSBsb29rcyBraW5kYSBiYWQgZm9yIGEgaGFja2VkIGNsaWVudCBidXQgaXRzIG1ldGVvclggYWxwaGEgaWcuIGkgV0lMTCB1cGRhdGUgdGhpcyBndWkgaW4gdGhlIGZ1dHVyZTwvcD48cCBzdHlsZT1cXFwiZm9udC1zaXplOiAwLjhyZW07IGNvbG9yOiBvcmFuZ2VyZWQ7XFxcIj5jbGljayBvbiBcXFwiQWN0aXZhdGVcXFwiIHRvIGFjdGl2YXRlIGEgaGFjayBhbmQgY2xpY2sgb24gXFxcIkRlYWN0aXZhdGVcXFwiIHRvIGRlYWN0aXZhdGUgYSBoYWNrPC9wPlxcbiAgICAgIDx0YWJsZSBzdHlsZT1cXFwidGFibGUtbGF5b3V0OiBmaXhlZDsgd2lkdGg6IDEwMCU7XFxcIj5cXG4gICAgICAgICAgPHRib2R5Pjx0ciBzdHlsZT1cXFwiYmFja2dyb3VuZDogcmdiKDgwLCA4MCwgODApO1xcXCI+XFxuICAgICAgICAgICAgICA8dGggc3R5bGU9XFxcInRleHQtYWxpZ246IGNlbnRlcjtcXFwiPkhhY2tzPC90aD5cXG4gICAgICAgICAgICAgIDx0aCBzdHlsZT1cXFwidGV4dC1hbGlnbjogY2VudGVyOyB3aWR0aDogMTUlO1xcXCI+QWN0aXZhdGUvRGVhY3RpdmF0ZTwvdGg+XFxuICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgIDx0ciBzdHlsZT1cXFwiYm94LXNoYWRvdzogZ3JleSAwcHggMnB4IDBweDtcXFwiPlxcbiAgICAgICAgICAgICAgPHRkIHN0eWxlPVxcXCJ1c2VyLXNlbGVjdDogdGV4dDtiYWNrZ3JvdW5kLWNvbG9yOiAjOWQwMGZmMzA7XFxcIj5KZXRwYWNrIChob2xkIHNwYWNlIHRvIGZseSkgXFx1RDgzQ1xcdURGOTJcXHVEODNEXFx1RENBODwvdGQ+XFxuICAgICAgICAgICAgICA8dGQgc3R5bGU9XFxcImJhY2tncm91bmQtY29sb3I6IGdyYXk7IHRleHQtYWxpZ246IGNlbnRlcjtcXFwiIGlkPVxcXCJqZXRwYWNrXFxcIj5BY3RpdmF0ZTwvdGQ+XFxuICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgIDx0ciBzdHlsZT1cXFwiYm94LXNoYWRvdzogZ3JleSAwcHggMnB4IDBweDtcXFwiPlxcbiAgICAgICAgICAgICAgPHRkIHN0eWxlPVxcXCJ1c2VyLXNlbGVjdDogdGV4dDtiYWNrZ3JvdW5kLWNvbG9yOiAjOWQwMGZmMzA7XFxcIj5TdGVwPC90ZD5cXG4gICAgICAgICAgICAgIDx0ZCBzdHlsZT1cXFwiYmFja2dyb3VuZC1jb2xvcjogZ3JheTsgdGV4dC1hbGlnbjogY2VudGVyO1xcXCIgaWQ9XFxcInN0ZXBcXFwiPkFjdGl2YXRlPC90ZD5cXG4gICAgICAgICAgPC90cj5cXG4gICAgICAgICAgPHRyIHN0eWxlPVxcXCJib3gtc2hhZG93OiBncmV5IDBweCAycHggMHB4O1xcXCI+XFxuICAgICAgICAgICAgICA8dGQgc3R5bGU9XFxcInVzZXItc2VsZWN0OiB0ZXh0O2JhY2tncm91bmQtY29sb3I6ICM5ZDAwZmYzMDtcXFwiPlNwaWRlcjwvdGQ+XFxuICAgICAgICAgICAgICA8dGQgc3R5bGU9XFxcImJhY2tncm91bmQtY29sb3I6IGdyYXk7IHRleHQtYWxpZ246IGNlbnRlcjtcXFwiIGlkPVxcXCJzcGlkZXJcXFwiPkFjdGl2YXRlPC90ZD5cXG4gICAgICAgICAgPC90cj5cXG4gICAgICAgICAgPHRyIHN0eWxlPVxcXCJib3gtc2hhZG93OiBncmV5IDBweCAycHggMHB4O1xcXCI+XFxuICAgICAgICAgICAgICA8dGQgc3R5bGU9XFxcInVzZXItc2VsZWN0OiB0ZXh0O2JhY2tncm91bmQtY29sb3I6ICM5ZDAwZmYzMDtcXFwiPk5vZmFsbDwvdGQ+XFxuICAgICAgICAgICAgICA8dGQgc3R5bGU9XFxcImJhY2tncm91bmQtY29sb3I6IGdyYXk7IHRleHQtYWxpZ246IGNlbnRlcjtcXFwiIGlkPVxcXCJub2ZhbGxcXFwiPkFjdGl2YXRlPC90ZD5cXG4gICAgICAgICAgPC90cj5cXG4gICAgICAgICAgPHRyIHN0eWxlPVxcXCJib3gtc2hhZG93OiBncmV5IDBweCAycHggMHB4O1xcXCI+XFxuICAgICAgICAgICAgICA8dGQgc3R5bGU9XFxcInVzZXItc2VsZWN0OiB0ZXh0O2JhY2tncm91bmQtY29sb3I6ICM5ZDAwZmYzMDtcXFwiPkZ1bGxicmlnaHQ8L3RkPlxcbiAgICAgICAgICAgICAgPHRkIHN0eWxlPVxcXCJiYWNrZ3JvdW5kLWNvbG9yOiBncmF5OyB0ZXh0LWFsaWduOiBjZW50ZXI7XFxcIiBpZD1cXFwiZnVsbGJyaWdodFxcXCI+QWN0aXZhdGU8L3RkPlxcbiAgICAgICAgICA8L3RyPlxcbiAgICAgICAgICA8dHIgc3R5bGU9XFxcImJveC1zaGFkb3c6IGdyZXkgMHB4IDJweCAwcHg7XFxcIj5cXG4gICAgICAgICAgPHRkIHN0eWxlPVxcXCJ1c2VyLXNlbGVjdDogdGV4dDtiYWNrZ3JvdW5kLWNvbG9yOiAjOWQwMGZmMzA7XFxcIj5Ob1dlYjwvdGQ+XFxuICAgICAgICAgIDx0ZCBzdHlsZT1cXFwiYmFja2dyb3VuZC1jb2xvcjogZ3JheTsgdGV4dC1hbGlnbjogY2VudGVyO1xcXCIgaWQ9XFxcIm5vd2ViXFxcIj5BY3RpdmF0ZTwvdGQ+XFxuICAgICAgICAgIDwvdHI+XFxuICAgICAgPC90Ym9keT48L3RhYmxlPlxcbiAgICAgIDxhIHN0eWxlPVxcXCJiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogeWVsbG93OyBjdXJzb3I6IHBvaW50ZXI7IGZvbnQtZmFtaWx5OiBNaW5lY3JhZnRpYSwgc2Fucy1zZXJpZjsgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7IGJvcmRlcjogMHB4OyBtYXJnaW4tcmlnaHQ6IDFyZW07IGZvbnQtc2l6ZTogMXJlbTtcXFwiIGhyZWY9XFxcImh0dHBzOi8vZ2l0aHViLmNvbS9yYWRtYW5wbGF5cy9NZXRlb3JYL2lzc3Vlcy9uZXdcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5zdWdnZXN0IGEgbmV3IGZlYXR1cmUvaGFjazwvYT5cXG4gICAgICA8YSBzdHlsZT1cXFwiYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7dGV4dC1hbGlnbjogY2VudGVyO2NvbG9yOiBvcmFuZ2U7Y3Vyc29yOiBwb2ludGVyO2ZvbnQtZmFtaWx5OiBNaW5lY3JhZnRpYSwgc2Fucy1zZXJpZjt0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtib3JkZXI6IDBweDtmb250LXNpemU6IDFyZW07XFxcIiBocmVmPVxcXCJodHRwczovL2dpdGh1Yi5jb20vb3Jncy9FYWdsZXJSZWJvcm4vZGlzY3Vzc2lvbnMvOVxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPnZlcnNpb24gUm9hZG1hcDwvYT5cXG4gICAgICBcXG4gICAgICAgIDwvZ3VpPlxcbiAgICAgIFwiOyAvLyBTZXQgdGhlIEhUTUwgY29udGVudCBvZiB0aGUgXCJndWlcIiBlbGVtZW50XG4gICAgICAgIGd1aS5pZCA9IFwibXlHdWlcIjsgLy8gU2V0IHRoZSBJRCBvZiB0aGUgXCJndWlcIiBlbGVtZW50IHRvIFwibXlHdWlcIlxuICAgICAgICBndWkuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIGd1aS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIGd1aS5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgICAgIGd1aS5zdHlsZS50b3AgPSAnMHB4JztcbiAgICAgICAgZ3VpLnN0eWxlLmxlZnQgPSAnMHB4JztcbiAgICAgICAgZ3VpLnN0eWxlLnpJbmRleCA9ICcxMCc7XG4gICAgICAgIGd1aS5zdHlsZS5jb2xvciA9ICd3aGl0ZSc7XG4gICAgICAgIGd1aS5zdHlsZS5mb250RmFtaWx5ID0gJ01pbmVjcmFmdGlhLCBzYW5zLXNlcmlmJztcbiAgICAgICAgZ3VpLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbiBzY3JvbGwnO1xuICAgICAgICBndWkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoODAsIDgwLCA4MCwgMC40MiknO1xuICAgICAgICBndWkuc3R5bGUuYmFja2dyb3VuZEJsZW5kTW9kZSA9ICdtdWx0aXBseSc7XG4gICAgICAgIGd1aS5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9ICc2NHB4JztcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChndWkpOyAvLyBBcHBlbmQgdGhlIFwiZ3VpXCIgZWxlbWVudCB0byB0aGUgYm9keSBvZiB0aGUgZG9jdW1lbnRcbiAgICAgICAgZ3VpVmlzaWJsZSA9IHRydWU7IC8vIFNldCB0aGUgR1VJIHZpc2liaWxpdHkgdG8gdHJ1ZVxuICAgICAgICB2YXIgamV0cGFja0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImpldHBhY2tcIik7XG4gICAgICAgIHZhciBzdGVwRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RlcFwiKTtcbiAgICAgICAgdmFyIHNwaWRlckVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaWRlclwiKTtcbiAgICAgICAgdmFyIG5vZmFsbEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vZmFsbFwiKTtcbiAgICAgICAgdmFyIGZ1bGxicmlnaHRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmdWxsYnJpZ2h0XCIpO1xuICAgICAgICB2YXIgbm93ZWJFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub3dlYlwiKTtcbiAgICAgICAgamV0cGFja0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBqZXRwYWNrRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcbiAgICAgICAgfSk7XG4gICAgICAgIHN0ZXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RlcEVsZW1lbnQuc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XG4gICAgICAgIH0pO1xuICAgICAgICBzcGlkZXJFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3BpZGVyRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcbiAgICAgICAgfSk7XG4gICAgICAgIG5vZmFsbEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBub2ZhbGxFbGVtZW50LnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xuICAgICAgICB9KTtcbiAgICAgICAgZnVsbGJyaWdodEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdWxsYnJpZ2h0RWxlbWVudC5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcbiAgICAgICAgfSk7XG4gICAgICAgIG5vd2ViRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG5vd2ViRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICgoMCwgamV0cGFja18xLnJldHVybmpldHBhY2t0b2dnbGUpKCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBqZXRwYWNrRWxlbWVudC5pbm5lclRleHQgPSBcIkFjdGl2YXRlXCI7XG4gICAgICAgICAgICBqZXRwYWNrRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZWVuXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCgwLCBzdGVwXzEucmV0dXJuU3RlcFRvZ2dsZSkoKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHN0ZXBFbGVtZW50LmlubmVyVGV4dCA9IFwiQWN0aXZhdGVcIjtcbiAgICAgICAgICAgIHN0ZXBFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiZ3JlZW5cIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKDAsIHNwaWRlcl8xLnJldHVyblNwaWRlclRvZ2dsZSkoKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHNwaWRlckVsZW1lbnQuaW5uZXJUZXh0ID0gXCJBY3RpdmF0ZVwiO1xuICAgICAgICAgICAgc3BpZGVyRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZWVuXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCgwLCBub2ZhbGxfMS5yZXR1cm5Ob2ZhbGxUb2dnbGUpKCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBub2ZhbGxFbGVtZW50LmlubmVyVGV4dCA9IFwiQWN0aXZhdGVcIjtcbiAgICAgICAgICAgIG5vZmFsbEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJncmVlblwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoMCwgZnVsbGJyaWdodF8xLnJldHVybkZ1bGxicmlnaHRUb2dnbGUpKCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBmdWxsYnJpZ2h0RWxlbWVudC5pbm5lclRleHQgPSBcIkFjdGl2YXRlXCI7XG4gICAgICAgICAgICBmdWxsYnJpZ2h0RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZWVuXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCgwLCBub3dlYl8xLnJldHVybm5vd2ViVG9nZ2xlKSgpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgbm93ZWJFbGVtZW50LmlubmVyVGV4dCA9IFwiQWN0aXZhdGVcIjtcbiAgICAgICAgICAgIG5vd2ViRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZWVuXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCgwLCBqZXRwYWNrXzEucmV0dXJuamV0cGFja3RvZ2dsZSkoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgamV0cGFja0VsZW1lbnQuaW5uZXJUZXh0ID0gXCJEZWFjdGl2YXRlXCI7XG4gICAgICAgICAgICBqZXRwYWNrRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoMCwgc3RlcF8xLnJldHVyblN0ZXBUb2dnbGUpKCkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHN0ZXBFbGVtZW50LmlubmVyVGV4dCA9IFwiRGVhY3RpdmF0ZVwiO1xuICAgICAgICAgICAgc3RlcEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKDAsIHNwaWRlcl8xLnJldHVyblNwaWRlclRvZ2dsZSkoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgc3BpZGVyRWxlbWVudC5pbm5lclRleHQgPSBcIkRlYWN0aXZhdGVcIjtcbiAgICAgICAgICAgIHNwaWRlckVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKDAsIG5vZmFsbF8xLnJldHVybk5vZmFsbFRvZ2dsZSkoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbm9mYWxsRWxlbWVudC5pbm5lclRleHQgPSBcIkRlYWN0aXZhdGVcIjtcbiAgICAgICAgICAgIG5vZmFsbEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKDAsIGZ1bGxicmlnaHRfMS5yZXR1cm5GdWxsYnJpZ2h0VG9nZ2xlKSgpID09PSB0cnVlKSB7XG4gICAgICAgICAgICBmdWxsYnJpZ2h0RWxlbWVudC5pbm5lclRleHQgPSBcIkRlYWN0aXZhdGVcIjtcbiAgICAgICAgICAgIGZ1bGxicmlnaHRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCgwLCBub3dlYl8xLnJldHVybm5vd2ViVG9nZ2xlKSgpID09PSB0cnVlKSB7XG4gICAgICAgICAgICBub3dlYkVsZW1lbnQuaW5uZXJUZXh0ID0gXCJEZWFjdGl2YXRlXCI7XG4gICAgICAgICAgICBub3dlYkVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIjtcbiAgICAgICAgfVxuICAgICAgICBzdGVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCgwLCBzdGVwXzEucmV0dXJuU3RlcFRvZ2dsZSkoKSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHN0ZXBFbGVtZW50LmlubmVyVGV4dCA9IFwiRGVhY3RpdmF0ZVwiO1xuICAgICAgICAgICAgICAgIHN0ZXBFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgICAgICAgICAgICAgKDAsIHN0ZXBfMS5zZXRTdGVwVG9nZ2xlKSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0ZXBFbGVtZW50LmlubmVyVGV4dCA9IFwiQWN0aXZhdGVcIjtcbiAgICAgICAgICAgICAgICBzdGVwRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZWVuXCI7XG4gICAgICAgICAgICAgICAgKDAsIHN0ZXBfMS5zZXRTdGVwVG9nZ2xlKShmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzcGlkZXJFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoKDAsIHNwaWRlcl8xLnJldHVyblNwaWRlclRvZ2dsZSkoKSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHNwaWRlckVsZW1lbnQuaW5uZXJUZXh0ID0gXCJEZWFjdGl2YXRlXCI7XG4gICAgICAgICAgICAgICAgc3BpZGVyRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiO1xuICAgICAgICAgICAgICAgICgwLCBzcGlkZXJfMS5zZXRTcGlkZXJUb2dnbGUpKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3BpZGVyRWxlbWVudC5pbm5lclRleHQgPSBcIkFjdGl2YXRlXCI7XG4gICAgICAgICAgICAgICAgc3BpZGVyRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZWVuXCI7XG4gICAgICAgICAgICAgICAgKDAsIHNwaWRlcl8xLnNldFNwaWRlclRvZ2dsZSkoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbm9mYWxsRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCgwLCBub2ZhbGxfMS5yZXR1cm5Ob2ZhbGxUb2dnbGUpKCkgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBub2ZhbGxFbGVtZW50LmlubmVyVGV4dCA9IFwiRGVhY3RpdmF0ZVwiO1xuICAgICAgICAgICAgICAgIG5vZmFsbEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIjtcbiAgICAgICAgICAgICAgICAoMCwgbm9mYWxsXzEuc2V0Tm9mYWxsVG9nZ2xlKSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZmFsbEVsZW1lbnQuaW5uZXJUZXh0ID0gXCJBY3RpdmF0ZVwiO1xuICAgICAgICAgICAgICAgIG5vZmFsbEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJncmVlblwiO1xuICAgICAgICAgICAgICAgICgwLCBub2ZhbGxfMS5zZXROb2ZhbGxUb2dnbGUpKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGZ1bGxicmlnaHRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoKDAsIGZ1bGxicmlnaHRfMS5yZXR1cm5GdWxsYnJpZ2h0VG9nZ2xlKSgpICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZnVsbGJyaWdodEVsZW1lbnQuaW5uZXJUZXh0ID0gXCJEZWFjdGl2YXRlXCI7XG4gICAgICAgICAgICAgICAgZnVsbGJyaWdodEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIjtcbiAgICAgICAgICAgICAgICAoMCwgZnVsbGJyaWdodF8xLnNldEZ1bGxicmlnaHRUb2dnbGUpKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZnVsbGJyaWdodEVsZW1lbnQuaW5uZXJUZXh0ID0gXCJBY3RpdmF0ZVwiO1xuICAgICAgICAgICAgICAgIGZ1bGxicmlnaHRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiZ3JlZW5cIjtcbiAgICAgICAgICAgICAgICAoMCwgZnVsbGJyaWdodF8xLnNldEZ1bGxicmlnaHRUb2dnbGUpKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGpldHBhY2tFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoKDAsIGpldHBhY2tfMS5yZXR1cm5qZXRwYWNrdG9nZ2xlKSgpICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgamV0cGFja0VsZW1lbnQuaW5uZXJUZXh0ID0gXCJEZWFjdGl2YXRlXCI7XG4gICAgICAgICAgICAgICAgamV0cGFja0VsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIjtcbiAgICAgICAgICAgICAgICAoMCwgamV0cGFja18xLnNldGpldHBhY2t0b2dnbGUpKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgamV0cGFja0VsZW1lbnQuaW5uZXJUZXh0ID0gXCJBY3RpdmF0ZVwiO1xuICAgICAgICAgICAgICAgIGpldHBhY2tFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiZ3JlZW5cIjtcbiAgICAgICAgICAgICAgICAoMCwgamV0cGFja18xLnNldGpldHBhY2t0b2dnbGUpKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG5vd2ViRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gVG9nZ2xlIHRoZSBqZXRwYWNrR3VpQWN0aXZlIHN0YXRlXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHRleHQgYW5kIGJhY2tncm91bmQgY29sb3IgYmFzZWQgb24gdGhlIHN0YXRlXG4gICAgICAgICAgICBpZiAoKDAsIG5vd2ViXzEucmV0dXJubm93ZWJUb2dnbGUpKCkgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBub3dlYkVsZW1lbnQuaW5uZXJUZXh0ID0gXCJEZWFjdGl2YXRlXCI7XG4gICAgICAgICAgICAgICAgbm93ZWJFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgICAgICAgICAgICAgKDAsIG5vd2ViXzEuc2V0bm93ZWJUb2dnbGUpKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbm93ZWJFbGVtZW50LmlubmVyVGV4dCA9IFwiQWN0aXZhdGVcIjtcbiAgICAgICAgICAgICAgICBub3dlYkVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJncmVlblwiO1xuICAgICAgICAgICAgICAgICgwLCBub3dlYl8xLnNldG5vd2ViVG9nZ2xlKShmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoaWRlR3VpKCkge1xuICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJteUd1aVwiKSkgeyAvLyBJZiB0aGUgXCJteUd1aVwiIGVsZW1lbnQgZXhpc3RzXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm15R3VpXCIpLnJlbW92ZSgpOyAvLyBSZW1vdmUgdGhlIFwibXlHdWlcIiBlbGVtZW50IGZyb20gdGhlIGRvY3VtZW50XG4gICAgICAgIH1cbiAgICAgICAgZ3VpVmlzaWJsZSA9IGZhbHNlOyAvLyBTZXQgdGhlIEdVSSB2aXNpYmlsaXR5IHRvIGZhbHNlXG4gICAgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJTaGlmdFwiICYmIGV2ZW50LmxvY2F0aW9uID09PSBLZXlib2FyZEV2ZW50LkRPTV9LRVlfTE9DQVRJT05fUklHSFQpIHsgLy8gSWYgdGhlIHJpZ2h0IFNoaWZ0IGtleSBpcyBwcmVzc2VkXG4gICAgICAgICAgICB0b2dnbGVHdWkoKTsgLy8gVG9nZ2xlIHRoZSBHVUkgdmlzaWJpbGl0eVxuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIgfHwgZXZlbnQua2V5ID09PSBcImBcIikgeyAvLyBJZiB0aGUgRXNjYXBlIGtleSBvciBiYWNrdGljayBpcyBwcmVzc2VkXG4gICAgICAgICAgICBoaWRlR3VpKCk7IC8vIEhpZGUgdGhlIEdVSVxuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLnJlZ2lzdGVyZ3VpID0gcmVnaXN0ZXJndWk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmV0dXJuamV0cGFja3RvZ2dsZSA9IGV4cG9ydHMuc2V0amV0cGFja3RvZ2dsZSA9IGV4cG9ydHMucmVnaXN0ZXJqZXRwYWNrID0gdm9pZCAwO1xudmFyIGpldHBhY2tndWlhY3RpdmUgPSBmYWxzZTtcbmZ1bmN0aW9uIHJlZ2lzdGVyamV0cGFjaygpIHtcbiAgICAvL0B0cy1pZ25vcmVcbiAgICBQbHVnaW5BUEkucmVxdWlyZShcInBsYXllclwiKTtcbiAgICB2YXIgamV0cGFja0FjdGl2ZSA9IGZhbHNlO1xuICAgIC8vQHRzLWlnbm9yZVxuICAgIFBsdWdpbkFQSS5hZGRFdmVudExpc3RlbmVyKFwidXBkYXRlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGpldHBhY2tndWlhY3RpdmUgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmICghamV0cGFja0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgUGx1Z2luQVBJLnBsYXllci5tb3Rpb25ZICs9IDAuMjtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgUGx1Z2luQVBJLnBsYXllci5yZWxvYWQoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0cy5yZWdpc3RlcmpldHBhY2sgPSByZWdpc3RlcmpldHBhY2s7XG5mdW5jdGlvbiBzZXRqZXRwYWNrdG9nZ2xlKHRoZUJvb2xlYW4pIHtcbiAgICBqZXRwYWNrZ3VpYWN0aXZlID0gdGhlQm9vbGVhbjtcbn1cbmV4cG9ydHMuc2V0amV0cGFja3RvZ2dsZSA9IHNldGpldHBhY2t0b2dnbGU7XG5mdW5jdGlvbiByZXR1cm5qZXRwYWNrdG9nZ2xlKCkge1xuICAgIHJldHVybiBqZXRwYWNrZ3VpYWN0aXZlO1xufVxuZXhwb3J0cy5yZXR1cm5qZXRwYWNrdG9nZ2xlID0gcmV0dXJuamV0cGFja3RvZ2dsZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZXR1cm5Ob2ZhbGxUb2dnbGUgPSBleHBvcnRzLnNldE5vZmFsbFRvZ2dsZSA9IGV4cG9ydHMucmVnaXN0ZXJOb2ZhbGwgPSB2b2lkIDA7XG4vL2FkZGVkIGJ5IEBPdHRlckNvZGVzMTAyXG52YXIgbm9mYWxsVG9nZ2xlID0gZmFsc2U7XG5mdW5jdGlvbiByZWdpc3Rlck5vZmFsbCgpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgUGx1Z2luQVBJLnJlcXVpcmUoXCJuZXR3b3JrXCIpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBQbHVnaW5BUEkuYWRkRXZlbnRMaXN0ZW5lcihcInVwZGF0ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKFBsdWdpbkFQSS5wbGF5ZXIuZmFsbERpc3RhbmNlID4gMi4wICYmIG5vZmFsbFRvZ2dsZSkgeyAvLyB0eSB6eG11c2hyb29tXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBQbHVnaW5BUEkubmV0d29yay5zZW5kUGFja2V0UGxheWVyKHsgaXNPbkdyb3VuZDogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0cy5yZWdpc3Rlck5vZmFsbCA9IHJlZ2lzdGVyTm9mYWxsO1xuZnVuY3Rpb24gc2V0Tm9mYWxsVG9nZ2xlKHRoZUJvb2xlYW4pIHtcbiAgICBub2ZhbGxUb2dnbGUgPSB0aGVCb29sZWFuO1xufVxuZXhwb3J0cy5zZXROb2ZhbGxUb2dnbGUgPSBzZXROb2ZhbGxUb2dnbGU7XG5mdW5jdGlvbiByZXR1cm5Ob2ZhbGxUb2dnbGUoKSB7XG4gICAgcmV0dXJuIG5vZmFsbFRvZ2dsZTtcbn1cbmV4cG9ydHMucmV0dXJuTm9mYWxsVG9nZ2xlID0gcmV0dXJuTm9mYWxsVG9nZ2xlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJldHVybm5vd2ViVG9nZ2xlID0gZXhwb3J0cy5zZXRub3dlYlRvZ2dsZSA9IGV4cG9ydHMucmVnaXN0ZXJub3dlYiA9IHZvaWQgMDtcbnZhciBub3dlYlRvZ2dsZSA9IGZhbHNlO1xuZnVuY3Rpb24gcmVnaXN0ZXJub3dlYigpIHtcbiAgICAvL0B0cy1pZ25vcmVcbiAgICBQbHVnaW5BUEkucmVxdWlyZShcInBsYXllclwiKTtcbiAgICAvL0B0cy1pZ25vcmVcbiAgICBQbHVnaW5BUEkuYWRkRXZlbnRMaXN0ZW5lcihcInVwZGF0ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChub3dlYlRvZ2dsZSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIFBsdWdpbkFQSS5wbGF5ZXIuaXNJbldlYiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLnJlZ2lzdGVybm93ZWIgPSByZWdpc3Rlcm5vd2ViO1xuZnVuY3Rpb24gc2V0bm93ZWJUb2dnbGUodGhlQm9vbGVhbikge1xuICAgIG5vd2ViVG9nZ2xlID0gdGhlQm9vbGVhbjtcbn1cbmV4cG9ydHMuc2V0bm93ZWJUb2dnbGUgPSBzZXRub3dlYlRvZ2dsZTtcbmZ1bmN0aW9uIHJldHVybm5vd2ViVG9nZ2xlKCkge1xuICAgIHJldHVybiBub3dlYlRvZ2dsZTtcbn1cbmV4cG9ydHMucmV0dXJubm93ZWJUb2dnbGUgPSByZXR1cm5ub3dlYlRvZ2dsZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZXR1cm5TcGlkZXJUb2dnbGUgPSBleHBvcnRzLnNldFNwaWRlclRvZ2dsZSA9IGV4cG9ydHMucmVnaXN0ZXJTcGlkZXIgPSB2b2lkIDA7XG52YXIgc3BpZGVyVG9nZ2xlID0gZmFsc2U7XG5mdW5jdGlvbiByZWdpc3RlclNwaWRlcigpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgUGx1Z2luQVBJLnJlcXVpcmUoXCJwbGF5ZXJcIik7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIFBsdWdpbkFQSS5hZGRFdmVudExpc3RlbmVyKFwidXBkYXRlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoUGx1Z2luQVBJLnBsYXllci5pc0NvbGxpZGVkSG9yaXpvbnRhbGx5ICYmIHNwaWRlclRvZ2dsZSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBQbHVnaW5BUEkucGxheWVyLm1vdGlvblkgPSAwLjI7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBQbHVnaW5BUEkucGxheWVyLnJlbG9hZCgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIC8vUGx1Z2luQVBJLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlcIiwgKGV2ZW50KSA9PiB7XG4gICAgLy9AIHRzLWlnbm9yZVxuICAgIC8vaWYgKGV2ZW50LmtleSA9PSAyMikge1xuICAgIC8vc3BpZGVyVG9nZ2xlID0gIXNwaWRlclRvZ2dsZVxuICAgIC8vaWYgKHNwaWRlclRvZ2dsZSA9PSB0cnVlKSB7XG4gICAgLy9kaXNwbGF5VG9DaGF0KFwiwqdkwqdsW01ldGVvclhdIMKncsKnZUVuYWJsZWQgc3BpZGVyLlwiKVxuICAgIC8vfSBlbHNlIHtcbiAgICAvL2Rpc3BsYXlUb0NoYXQoXCLCp2TCp2xbTWV0ZW9yWF0gwqdywqdlRGlzYWJsZWQgc3BpZGVyLlwiKVxuICAgIC8vfVxufVxuZXhwb3J0cy5yZWdpc3RlclNwaWRlciA9IHJlZ2lzdGVyU3BpZGVyO1xuLy99KVxuLy99XG5mdW5jdGlvbiBzZXRTcGlkZXJUb2dnbGUodGhlQm9vbGVhbikge1xuICAgIHNwaWRlclRvZ2dsZSA9IHRoZUJvb2xlYW47IC8vIHl3IHJhZG1hbiA6M1xufVxuZXhwb3J0cy5zZXRTcGlkZXJUb2dnbGUgPSBzZXRTcGlkZXJUb2dnbGU7XG5mdW5jdGlvbiByZXR1cm5TcGlkZXJUb2dnbGUoKSB7XG4gICAgcmV0dXJuIHNwaWRlclRvZ2dsZTtcbn1cbmV4cG9ydHMucmV0dXJuU3BpZGVyVG9nZ2xlID0gcmV0dXJuU3BpZGVyVG9nZ2xlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJldHVyblN0ZXBUb2dnbGUgPSBleHBvcnRzLnNldFN0ZXBUb2dnbGUgPSBleHBvcnRzLnJlZ2lzdGVyU3RlcCA9IHZvaWQgMDtcbnZhciBzdGVwVG9nZ2xlID0gZmFsc2U7XG5mdW5jdGlvbiByZWdpc3RlclN0ZXAoKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIFBsdWdpbkFQSS5hZGRFdmVudExpc3RlbmVyKFwidXBkYXRlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHN0ZXBUb2dnbGUgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgUGx1Z2luQVBJLnBsYXllci5zdGVwSGVpZ2h0ID0gMTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIFBsdWdpbkFQSS5wbGF5ZXIucmVsb2FkKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBQbHVnaW5BUEkucGxheWVyLnN0ZXBIZWlnaHQgPSAwLjU7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBQbHVnaW5BUEkucGxheWVyLnJlbG9hZCgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gQHRzLWlnbm9yZSBcbiAgICAvL1BsdWdpbkFQSS5hZGRFdmVudExpc3RlbmVyKFwia2V5XCIsIChldmVudCk9PnsgY29tbWVudCBvdXQgY29kZSByYWRtYW4gbGlrZWx5IHdvbid0IHVzZVxuICAgIC8vaWYgKGV2ZW50LmtleSA9PSA0Nykge1xuICAgIC8vICBzdGVwVG9nZ2xlID0gIXN0ZXBUb2dnbGU7XG4gICAgLy8gaWYgKHN0ZXBUb2dnbGUgPT0gdHJ1ZSkge1xuICAgIC8vICAgZGlzcGxheVRvQ2hhdChcIsKnZMKnbFtNZXRlb3JYXSDCp3LCp2VFbmFibGVkIHN0ZXAuXCIpXG4gICAgLy8gfSBlbHNlIHtcbiAgICAvLyAgICBkaXNwbGF5VG9DaGF0KFwiwqdkwqdsW01ldGVvclhdIMKncsKnZURpc2FibGVkIHN0ZXAuXCIpXG4gICAgLy8gfVxuICAgIC8vIH1cbiAgICAvLyAgfSlcbn1cbmV4cG9ydHMucmVnaXN0ZXJTdGVwID0gcmVnaXN0ZXJTdGVwO1xuZnVuY3Rpb24gc2V0U3RlcFRvZ2dsZSh0aGVCb29sZWFuKSB7XG4gICAgc3RlcFRvZ2dsZSA9IHRoZUJvb2xlYW47IC8vIHl3IHJhZG1hbiA6M1xufVxuZXhwb3J0cy5zZXRTdGVwVG9nZ2xlID0gc2V0U3RlcFRvZ2dsZTtcbmZ1bmN0aW9uIHJldHVyblN0ZXBUb2dnbGUoKSB7XG4gICAgcmV0dXJuIHN0ZXBUb2dnbGU7XG59XG5leHBvcnRzLnJldHVyblN0ZXBUb2dnbGUgPSByZXR1cm5TdGVwVG9nZ2xlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnV3dWlmeSA9IHZvaWQgMDtcbmZ1bmN0aW9uIHV3dWlmeShzdHJpbmdUb1V3dWlmeSkge1xuICAgIC8vIFVzYWdlOlxuICAgIC8vIHV3dWlmeShcIllvdXIgdGV4dCBoZXJlXCIpO1xuICAgIHN0cmluZ1RvVXd1aWZ5LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvcnxsL2csICd3JykucmVwbGFjZSgvbihbYWVpb3VdKS9nLCAnbnkkMScpLnJlcGxhY2UoL292ZS9nLCAndXZlJykucmVwbGFjZSgvdWNrL2csICd1d3EnKVxuICAgICAgICAucmVwbGFjZSgvXmkvLCAnaS1pJykucmVwbGFjZSgvKC4qKWktaS1pLywgJyQxaS1pJykgKyAoTWF0aC5yYW5kb20oKSA8PSAwLjIgPyAnID5fPCcgOiAnJyk7XG59XG5leHBvcnRzLnV3dWlmeSA9IHV3dWlmeTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iXSwibmFtZXMiOlsiZ3VpXzEiLCJzcGlkZXJfMSIsInN0ZXBfMSIsIm5vZmFsbF8xIiwiamV0cGFja18xIiwiZnVsbGJyaWdodF8xIiwiY21kc18xIiwibm93ZWJfMSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGlzcGxheVRvQ2hhdCIsIm1lc3NhZ2UiLCJQbHVnaW5BUEkiLCJtc2ciLCJNZXRlb3JYZmFpbHVyZSIsIk1ldGVvclhzdWNjZXNzIiwiTWV0ZW9yWGVycm9yIiwiTWV0ZW9yWHdhcm5pbmciLCJNZXRlb3JYbG9nIiwiY2hhdF8xIiwicmVnaXN0ZXJjbWRzIiwidXd1YXBpXzEiLCJjaGF0dXRpbHRzXzEiLCJzZXJ2ZXJpcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldiIsImlwIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInN0YXJ0c1dpdGgiLCJzdWJzdHJpbmciLCJ1d3VtZXNzYWdlIiwidXd1aWZ5IiwibmV0d29yayIsInNlbmRQYWNrZXRDaGF0TWVzc2FnZSIsIm1lc3NhZ2VJbiIsInJldHVybkZ1bGxicmlnaHRUb2dnbGUiLCJzZXRGdWxsYnJpZ2h0VG9nZ2xlIiwicmVnaXN0ZXJGdWxsYnJpZ2h0IiwiZnVsbGJyaWdodFRvZ2dsZSIsImJsb2NrcyIsImFpciIsImxpZ2h0VmFsdWUiLCJyZWxvYWQiLCJ0aGVCb29sZWFuIiwicmVnaXN0ZXJndWkiLCJndWlWaXNpYmxlIiwiaGlkZUd1aSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZW1vdmUiLCJ3aW5kb3ciLCJrZXkiLCJsb2NhdGlvbiIsIktleWJvYXJkRXZlbnQiLCJET01fS0VZX0xPQ0FUSU9OX1JJR0hUIiwiZ3VpIiwiY3JlYXRlRWxlbWVudCIsInBvaW50ZXJMb2NrRWxlbWVudCIsImV4aXRQb2ludGVyTG9jayIsImlubmVySFRNTCIsImlkIiwic3R5bGUiLCJ3aWR0aCIsImhlaWdodCIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsInpJbmRleCIsImNvbG9yIiwiZm9udEZhbWlseSIsIm92ZXJmbG93IiwiYmFja2dyb3VuZENvbG9yIiwiYmFja2dyb3VuZEJsZW5kTW9kZSIsImJhY2tncm91bmRTaXplIiwiYm9keSIsImFwcGVuZENoaWxkIiwiamV0cGFja0VsZW1lbnQiLCJzdGVwRWxlbWVudCIsInNwaWRlckVsZW1lbnQiLCJub2ZhbGxFbGVtZW50IiwiZnVsbGJyaWdodEVsZW1lbnQiLCJub3dlYkVsZW1lbnQiLCJjdXJzb3IiLCJyZXR1cm5qZXRwYWNrdG9nZ2xlIiwiaW5uZXJUZXh0IiwicmV0dXJuU3RlcFRvZ2dsZSIsInJldHVyblNwaWRlclRvZ2dsZSIsInJldHVybk5vZmFsbFRvZ2dsZSIsInJldHVybm5vd2ViVG9nZ2xlIiwic2V0U3RlcFRvZ2dsZSIsInNldFNwaWRlclRvZ2dsZSIsInNldE5vZmFsbFRvZ2dsZSIsInNldGpldHBhY2t0b2dnbGUiLCJzZXRub3dlYlRvZ2dsZSIsInNob3dHdWkiLCJyZWdpc3RlcmpldHBhY2siLCJqZXRwYWNrZ3VpYWN0aXZlIiwicmVxdWlyZSIsInJlZ2lzdGVyTm9mYWxsIiwibm9mYWxsVG9nZ2xlIiwicGxheWVyIiwiZmFsbERpc3RhbmNlIiwic2VuZFBhY2tldFBsYXllciIsImlzT25Hcm91bmQiLCJyZWdpc3Rlcm5vd2ViIiwibm93ZWJUb2dnbGUiLCJpc0luV2ViIiwicmVnaXN0ZXJTcGlkZXIiLCJzcGlkZXJUb2dnbGUiLCJpc0NvbGxpZGVkSG9yaXpvbnRhbGx5IiwibW90aW9uWSIsInJlZ2lzdGVyU3RlcCIsInN0ZXBUb2dnbGUiLCJzdGVwSGVpZ2h0Iiwic3RyaW5nVG9Vd3VpZnkiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJNYXRoIiwicmFuZG9tIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9